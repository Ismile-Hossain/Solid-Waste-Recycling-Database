CREATE TABLE COMPANY_TRANSACTION
(
	COMPANY_TRADE_NUM 		VARCHAR2(15),
	TRANSACTION_ID 			VARCHAR2(20),
	TRANSACTION_DATE  		DATE,
	
	CONSTRAINT COMT_trdNum_tsIdDate_pk
		PRIMARY KEY (COMPANY_TRADE_NUM,TRANSACTION_ID,TRANSACTION_DATE),
	CONSTRAINT COMT_comp_trd_num_fk
		FOREIGN KEY (COMPANY_TRADE_NUM)
		REFERENCES COMPANY (COMPANY_TRADE_NUM),
	CONSTRAINT COMT_trans_id_date_fk
		FOREIGN KEY (TRANSACTION_ID,TRANSACTION_DATE)
		REFERENCES TRANSACTION_SUPPORT (TRANSACTION_ID,TRANSACTION_DATE)

);

INSERT INTO COMPANY_TRANSACTION VALUES ('COMP_00000002','TRANSC_00000001',TO_DATE('2-JAN-2019','DD-MON-YYYY'));
INSERT INTO COMPANY_TRANSACTION VALUES ('COMP_00000001','TRANSC_00000002',TO_DATE('3-JAN-2019','DD-MON-YYYY'));
INSERT INTO COMPANY_TRANSACTION VALUES ('COMP_00000003','TRANSC_00000003',TO_DATE('4-JAN-2019','DD-MON-YYYY'));
INSERT INTO COMPANY_TRANSACTION VALUES ('COMP_00000004','TRANSC_00000004',TO_DATE('6-JAN-2019','DD-MON-YYYY'));
INSERT INTO COMPANY_TRANSACTION VALUES ('COMP_00000005','TRANSC_00000005',TO_DATE('7-JAN-2019','DD-MON-YYYY'));

INSERT INTO COMPANY_TRANSACTION VALUES ('COMP_00000002','TRANSC_00000006',TO_DATE('2-JAN-2019','DD-MON-YYYY'));
INSERT INTO COMPANY_TRANSACTION VALUES ('COMP_00000001','TRANSC_00000007',TO_DATE('3-JAN-2019','DD-MON-YYYY'));
INSERT INTO COMPANY_TRANSACTION VALUES ('COMP_00000003','TRANSC_00000008',TO_DATE('4-JAN-2019','DD-MON-YYYY'));
INSERT INTO COMPANY_TRANSACTION VALUES ('COMP_00000004','TRANSC_00000009',TO_DATE('6-JAN-2019','DD-MON-YYYY'));
INSERT INTO COMPANY_TRANSACTION VALUES ('COMP_00000005','TRANSC_00000010',TO_DATE('7-JAN-2019','DD-MON-YYYY'));


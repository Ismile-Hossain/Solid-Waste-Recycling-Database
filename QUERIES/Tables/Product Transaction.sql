CREATE TABLE PRODUCT_TRANSACTION
(
	PRODUCT_ID 				VARCHAR2(20),
	PRODUCT_DATE 			DATE,
	TRANSACTION_ID 			VARCHAR2(20),
	TRANSACTION_DATE  		DATE,
	
	CONSTRAINT PT_prod_idDate_trans_idDate_pk
		PRIMARY KEY (PRODUCT_ID,PRODUCT_DATE,TRANSACTION_ID,TRANSACTION_DATE),
	CONSTRAINT PT_prod_id_date_fk
		FOREIGN KEY (PRODUCT_ID,PRODUCT_DATE)
		REFERENCES PRODUCT (PRODUCT_ID,PRODUCT_DATE),
	CONSTRAINT PT_trans_id_date_fk
		FOREIGN KEY (TRANSACTION_ID,TRANSACTION_DATE)
		REFERENCES TRANSACTION_SUPPORT (TRANSACTION_ID,TRANSACTION_DATE)
);

INSERT INTO PRODUCT_TRANSACTION VALUES ('PROD_0000001',TO_DATE('12-MAR-2019','DD-MON-YYYY'),'TRANSC_00000001',TO_DATE('2-JAN-2019','DD-MON-YYYY'));
INSERT INTO PRODUCT_TRANSACTION VALUES ('PROD_0000002',TO_DATE('02-JAN-2019','DD-MON-YYYY'),'TRANSC_00000002',TO_DATE('3-JAN-2019','DD-MON-YYYY'));
INSERT INTO PRODUCT_TRANSACTION VALUES ('PROD_0000003',TO_DATE('28-FEB-2019','DD-MON-YYYY'),'TRANSC_00000003',TO_DATE('4-JAN-2019','DD-MON-YYYY'));
INSERT INTO PRODUCT_TRANSACTION VALUES ('PROD_0000004',TO_DATE('02-FEB-2019','DD-MON-YYYY'),'TRANSC_00000004',TO_DATE('6-JAN-2019','DD-MON-YYYY'));
INSERT INTO PRODUCT_TRANSACTION VALUES ('PROD_0000005',TO_DATE('12-JAN-2019','DD-MON-YYYY'),'TRANSC_00000005',TO_DATE('7-JAN-2019','DD-MON-YYYY'));

